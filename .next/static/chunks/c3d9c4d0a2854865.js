(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45587,t=>{"use strict";var e=t.i(47984);let r=/_key\s*==\s*['"](.*)['"]/;function n(t){if(!Array.isArray(t))throw Error("Path is not an array");return t.reduce((t,e,n)=>{let i=typeof e;if("number"===i)return`${t}[${e}]`;if("string"===i)return`${t}${0===n?"":"."}${e}`;if(("string"==typeof e?r.test(e.trim()):"object"==typeof e&&"_key"in e)&&e._key)return`${t}[_key=="${e._key}"]`;if(Array.isArray(e)){let[r,n]=e;return`${t}[${r}:${n}]`}throw Error(`Unsupported path segment \`${JSON.stringify(e)}\``)},"")}let i={"\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","'":"\\'","\\":"\\\\"},o={"\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	","\\'":"'","\\\\":"\\"};function s(t){let e,r=[],n=/\['(.*?)'\]|\[(\d+)\]|\[\?\(@\._key=='(.*?)'\)\]/g;for(;null!==(e=n.exec(t));){if(void 0!==e[1]){let t=e[1].replace(/\\(\\|f|n|r|t|')/g,t=>o[t]);r.push(t);continue}if(void 0!==e[2]){r.push(parseInt(e[2],10));continue}if(void 0!==e[3]){let t=e[3].replace(/\\(\\')/g,t=>o[t]);r.push({_key:t,_index:-1});continue}}return r}function a(t){return t.map(t=>{if("string"==typeof t||"number"==typeof t)return t;if(""!==t._key)return{_key:t._key};if(-1!==t._index)return t._index;throw Error(`invalid segment:${JSON.stringify(t)}`)})}function l(t){return t.map(t=>{if("string"==typeof t||"number"==typeof t)return t;if(-1!==t._index)return t._index;throw Error(`invalid segment:${JSON.stringify(t)}`)})}function u(t,r,n){return function t(r,n,i=[]){if(null!==r&&Array.isArray(r))return r.map((r,o)=>{if((0,e.isRecord)(r)){let e=r._key;if("string"==typeof e)return t(r,n,i.concat({_key:e,_index:o}))}return t(r,n,i.concat(o))});if((0,e.isRecord)(r)){if("block"===r._type||"span"===r._type){let e={...r};return"block"===r._type?e.children=t(r.children,n,i.concat("children")):"span"===r._type&&(e.text=t(r.text,n,i.concat("text"))),e}return Object.fromEntries(Object.entries(r).map(([e,r])=>[e,t(r,n,i.concat(e))]))}return n(r,i)}(t,(t,e)=>{if("string"!=typeof t)return t;let o=function(t,e){var r;if(!e?.mappings)return;let n=(r=l(t),`$${r.map(t=>"string"==typeof t?`['${t.replace(/[\f\n\r\t'\\]/g,t=>i[t])}']`:"number"==typeof t?`[${t}]`:""!==t._key?`[?(@._key=='${t._key.replace(/['\\]/g,t=>i[t])}')]`:`[${t._index}]`).join("")}`);if(void 0!==e.mappings[n])return{mapping:e.mappings[n],matchedPath:n,pathSuffix:""};let o=l(t).map(t=>"string"==typeof t?`['${t.replace(/[\f\n\r\t'\\]/g,t=>i[t])}']`:"number"==typeof t?`[${t}]`:""!==t._key?`[?(@._key=='${t._key.replace(/['\\]/g,t=>i[t])}')]`:`[${t._index}]`);for(let t=o.length-1;t>=0;t--){let r=`$${o.slice(0,t).join("")}`,i=e.mappings[r];if(i){let t=n.substring(r.length);return{mapping:i,matchedPath:r,pathSuffix:t}}}}(e,r);if(!o)return t;let{mapping:a,matchedPath:u}=o;if("value"!==a.type||"documentValue"!==a.source.type)return t;let p=r.documents[a.source.document],c=r.paths[a.source.path],f=s(u);return n({sourcePath:s(c).concat(e.slice(f.length)),sourceDocument:p,resultPath:e,value:t})})}let p="drafts.";function c(t){return t.startsWith(p)}function f(t){return t.startsWith("versions.")}let d=({sourcePath:t,resultPath:e,value:r})=>{var n;if(n=r,/^\d{4}-\d{2}-\d{2}/.test(n)&&Date.parse(n)||function(t){try{let{protocol:e}=new URL(t,t.startsWith("/")?"https://acme.com":void 0);return g.has(e)||e.startsWith("web+")}catch{return!1}}(r))return!1;let i=t.at(-1);return!("slug"===t.at(-2)&&"current"===i||"string"==typeof i&&(i.startsWith("_")||i.endsWith("Id"))||t.some(t=>"meta"===t||"metadata"===t||"openGraph"===t||"seo"===t)||y(t)||y(e)||"string"==typeof i&&h.has(i))},h=new Set(["color","colour","currency","email","format","gid","hex","href","hsl","hsla","icon","id","index","key","language","layout","link","linkAction","locale","lqip","page","path","ref","rgb","rgba","route","secret","slug","status","tag","template","theme","type","textTheme","unit","url","username","variant","website"]),g=new Set(["app:","data:","discord:","file:","ftp:","ftps:","geo:","http:","https:","imap:","javascript:","magnet:","mailto:","maps:","ms-excel:","ms-powerpoint:","ms-word:","slack:","sms:","spotify:","steam:","teams:","tel:","vscode:","zoom:"]);function y(t){return t.some(t=>"string"==typeof t&&null!==t.match(/type/i))}let m=[8203,8204,8205,65279],$=m.map(t=>String.fromCharCode(t)),_=[8203,8204,8205,8290,8291,8288,65279,8289,119155,119156,119157,119158,119159,119160,119161,119162];Object.fromEntries(m.map((t,e)=>[t,e])),Object.fromEntries(_.map((t,e)=>[t,e.toString(16)]));let b=String.fromCodePoint(m[0]).repeat(4);function v(t,e,i){let{filter:o,logger:s,enabled:l}=i;if(!l){let r="config.enabled must be true, don't call this function otherwise";throw s?.error?.(`[@sanity/client]: ${r}`,{result:t,resultSourceMap:e,config:i}),TypeError(r)}if(!e)return s?.error?.("[@sanity/client]: Missing Content Source Map from response body",{result:t,resultSourceMap:e,config:i}),t;if(!i.studioUrl){let r="config.studioUrl must be defined";throw s?.error?.(`[@sanity/client]: ${r}`,{result:t,resultSourceMap:e,config:i}),TypeError(r)}let h=[],g=[],y=u(t,e,({sourcePath:t,sourceDocument:e,resultPath:r,value:l})=>{var u;let y;if(("function"==typeof o?o({sourcePath:t,resultPath:r,filterDefault:d,sourceDocument:e,value:l}):d({sourcePath:t,resultPath:r,value:l}))===!1)return s&&g.push({path:n(a(t)),value:`${l.slice(0,20)}${l.length>20?"...":""}`,length:l.length}),l;s&&h.push({path:n(a(t)),value:`${l.slice(0,20)}${l.length>20?"...":""}`,length:l.length});let{baseUrl:m,workspace:_,tool:v}=("/"!==(y="string"==typeof(u="function"==typeof i.studioUrl?i.studioUrl(e):i.studioUrl)?u:u.baseUrl)&&(y=y.replace(/\/$/,"")),"string"==typeof u?{baseUrl:y}:{...u,baseUrl:y});if(!m)return l;let{_id:k,_type:w,_projectId:x,_dataset:E}=e;return function(t,e,r="auto"){var n;return!0!==r&&("auto"!==r||(n=t)&&"string"==typeof n&&Date.parse(n)||function(t){try{return new URL(t,t.startsWith("/")?"https://example.com":void 0),!0}catch{return!1}}(t))?t:`${t}${function(t){if(void 0===t)return"";let e="string"==typeof t?t:JSON.stringify(t),r=new TextEncoder().encode(e),n="";for(let t=0;t<r.length;t++){let e=r[t];n+=$[e>>6&3]+$[e>>4&3]+$[e>>2&3]+$[3&e]}return b+n}(e)}`}(l,{origin:"sanity.io",href:function(t){let{baseUrl:e,workspace:r="default",tool:i="default",id:o,type:s,path:l,projectId:u,dataset:d}=t;if(!e)throw Error("baseUrl is required");if(!l)throw Error("path is required");if(!o)throw Error("id is required");if("/"!==e&&e.endsWith("/"))throw Error("baseUrl must not end with a slash");let h="default"===r?void 0:r,g="default"===i?void 0:i,y=f(o)?o.split(".").slice(2).join("."):c(o)?o.slice(p.length):o,m=Array.isArray(l)?n(a(l)):l,$=new URLSearchParams({baseUrl:e,id:y,type:s,path:m});if(h&&$.set("workspace",h),g&&$.set("tool",g),u&&$.set("projectId",u),d&&$.set("dataset",d),c(o)||f(o)){if(f(o)){let t=function(t){if(!f(t))return;let[e,r,...n]=t.split(".");return r}(o);$.set("perspective",t)}}else $.set("perspective","published");let _=["/"===e?"":e];h&&_.push(h);let b=["mode=presentation",`id=${y}`,`type=${s}`,`path=${encodeURIComponent(m)}`];return g&&b.push(`tool=${g}`),_.push("intent","edit",`${b.join(";")}?${$}`),_.join("/")}({baseUrl:m,workspace:_,tool:v,id:k,type:w,path:t,...!i.omitCrossDatasetReferenceData&&{dataset:E,projectId:x}})},!0)});if(s){let t=g.length,e=h.length;if((t||e)&&((s?.groupCollapsed||s.log)?.("[@sanity/client]: Encoding source map into result"),s.log?.(`[@sanity/client]: Paths encoded: ${h.length}, skipped: ${g.length}`)),h.length>0&&(s?.log?.("[@sanity/client]: Table of encoded paths"),(s?.table||s.log)?.(h)),g.length>0){let t=new Set;for(let{path:e}of g)t.add(e.replace(r,"0").replace(/\[\d+\]/g,"[]"));s?.log?.("[@sanity/client]: List of skipped paths",[...t.values()])}(t||e)&&s?.groupEnd?.()}return y}[...m,..._].map(t=>`\\u{${t.toString(16)}}`).join("");var k=Object.freeze({__proto__:null,stegaEncodeSourceMap:v});t.s(["encodeIntoResult",()=>u,"stegaEncodeSourceMap",()=>v,"stegaEncodeSourceMap$1",()=>k])}]);